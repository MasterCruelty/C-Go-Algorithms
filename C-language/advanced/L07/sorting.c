#include <stdio.h>
#define N 1000

void stampa(int a[], int lung);
void scambia(int a[], int i, int j);
void selectionsort(int a[],int n);
void mergeSort(int a[], int sx, int dx);
void merge(int a[], int sx, int q, int dx);


int main(void){
    int a[N] = {568,571,367,509,314,699,415,271,964,486,249,925,99,21,215,73,539,944,831,712,754,609,999,171,262,965,147,596,597,129,481,565,731,765,298,261,20,891,789,86,492,342,455,972,631,953,100,987,933,153,603,683,939,856,728,974,905,259,640,203,18,117,491,437,3,431,903,36,212,840,263,714,911,226,193,82,103,33,666,425,166,574,673,563,549,266,744,5,378,65,493,110,557,28,128,805,849,564,452,737,174,488,109,381,632,176,555,645,168,351,234,978,140,23,653,980,706,625,429,211,644,906,851,318,825,757,240,154,141,472,453,438,599,545,418,833,701,346,889,949,401,719,359,195,14,232,190,201,907,829,19,325,756,932,394,542,604,531,562,422,301,762,114,884,98,322,326,37,196,524,561,347,466,734,81,283,515,64,654,792,400,768,602,634,7,216,127,854,90,667,613,864,512,832,663,743,426,888,943,928,273,243,635,685,797,695,674,548,11,483,722,315,936,197,231,528,405,468,650,91,404,148,567,67,904,897,191,688,460,138,808,521,859,163,569,729,360,8,444,219,514,170,297,937,970,205,220,384,228,812,867,247,615,60,746,798,502,780,130,75,457,547,448,222,981,353,962,592,951,356,955,183,828,339,214,313,260,732,975,282,500,865,39,573,16,642,895,581,523,281,938,121,871,969,745,759,863,691,329,584,2,296,467,137,807,380,507,753,96,721,55,245,641,307,108,546,835,485,730,916,977,550,291,915,700,335,708,793,497,784,364,41,990,796,332,115,848,146,680,968,255,235,48,934,358,534,142,40,711,758,986,558,150,80,149,277,62,182,300,995,365,726,372,593,312,883,681,621,274,739,800,167,595,675,104,857,698,311,620,930,25,462,839,385,566,801,556,779,498,971,144,959,68,177,362,677,224,223,811,125,880,151,294,750,292,821,522,869,836,678,511,591,766,482,983,510,402,343,227,858,320,786,803,417,862,410,586,816,795,391,136,409,910,583,373,72,931,445,992,619,164,770,720,173,202,248,341,935,476,230,208,989,881,198,111,134,843,717,246,879,338,570,390,323,386,169,333,646,213,145,960,578,760,27,813,97,827,727,926,626,61,204,366,775,590,777,120,328,814,158,809,716,967,684,432,761,506,845,505,656,585,494,379,822,802,71,218,945,371,918,624,994,389,647,919,551,459,495,537,253,940,749,189,403,257,185,661,306,658,582,357,85,162,952,295,194,236,398,873,15,345,996,416,774,516,43,435,413,740,321,815,105,474,893,369,630,303,464,69,668,309,614,769,251,207,26,258,160,480,254,352,237,132,682,471,38,446,662,535,161,324,487,950,411,530,778,617,998,513,866,846,956,764,991,660,12,221,349,638,74,913,348,676,95,443,337,997,395,687,704,424,877,810,501,618,47,250,206,527,143,287,790,659,860,723,87,665,396,979,837,50,59,776,577,408,818,543,772,449,909,504,123,165,478,319,958,179,657,616,622,966,133,293,648,794,639,572,612,901,773,587,608,824,420,589,56,902,747,870,265,553,850,538,304,200,878,284,119,607,874,34,520,715,406,605,451,963,302,66,272,475,199,554,188,847,920,290,819,374,540,855,83,316,710,929,499,552,76,209,536,268,922,285,560,238,423,787,112,308,693,707,433,135,892,355,159,13,763,948,225,155,419,484,340,344,496,354,576,580,77,736,806,264,533,181,652,157,31,63,392,334,679,985,310,242,17,610,751,106,733,924,131,450,611,175,690,882,752,399,46,305,982,88,350,440,702,973,899,256,102,89,526,172,876,826,70,894,669,748,184,947,387,430,594,767,875,785,1000,52,741,156,412,32,927,588,241,703,210,1,705,993,29,941,503,57,229,623,116,541,126,900,834,122,686,921,465,724,317,842,427,139,275,54,124,984,113,269,628,42,896,598,178,771,331,844,601,45,461,518,9,738,187,672,799,649,664,692,30,489,473,914,852,6,783,525,782,186,53,270,532,442,458,600,788,976,84,820,689,267,79,479,289,78,946,93,942,51,671,327,804,278,414,456,368,713,436,288,651,957,280,428,107,375,709,252,988,508,383,517,447,454,908,441,101,233,439,697,361,637,49,559,276,841,470,830,477,735,330,606,887,636,885,917,791,718,152,244,336,393,370,299,633,363,44,376,10,4,397,469,58,898,755,627,838,742,961,817,519,24,382,529,954,118,890,861,286,35,696,629,886,694,388,725,781,217,872,180,868,463,239,912,22,490,544,823,923,407,853,655,92,192,434,421,279,670,575,643,579,94,377};
    stampa(a,N);
    printf("array ordinato: \n\n\n");
    //de-commentare l'algoritmo di ordinamento che si vuole eseguire e commentare l'altro(attualmente viene eseguito mergesort)
    //selectionsort(a,N);
    mergeSort(a,0,N-1);
    stampa(a,N);
    return 0;
}



void stampa(int a[],int lung){
    int i;
    for(i = 0;i < N;i++){
	printf("%d ",a[i]);
    }
    printf("\n");
}

void scambia(int a[],int i, int j){
    int save = a[i];
    a[i] = a[j];
    a[j] = save;
}

//algoritmo di ordinamento elementare selectionsort
void selectionsort(int a[],int n){
    int i,j;
    int max = a[0];
    if(n > 1){
	for(i = 1;i < n;i++){
	    if(a[i] > max){
	       j = i;
	       max = a[i];
	    }
        }  
        scambia(a,j,n-1);
        selectionsort(a,n-1);
    }
}

//funzione ausiliaria per il mergesort
void merge(int a[], int sx, int q, int dx) {
    int i, j, k=0, b[N];
    i = sx;
    j = q+1;

    while (i<=q && j<=dx) {
        if (a[i]<a[j]) {
          b[k] = a[i];
          i++;
        } 
        else {
            b[k] = a[j];
            j++;
        }
        k++;
   }  
   while (i <= q) {
       b[k] = a[i];
       i++;
       k++;
   }
   while (j <= dx) {
       b[k] = a[j];
       j++;
       k++;
   }
   for (k=sx; k<=dx; k++)
       a[k] = b[k-sx];
    return;
}

//algoritmo di ordinamento mergesort
void mergeSort(int a[], int sx, int dx) {
    int q;
    if (sx < dx) {
        q = (sx+dx)/2;
        mergeSort(a, sx, q);
        mergeSort(a, q+1, dx);
        merge(a, sx, q, dx);
    }
    return;
}
